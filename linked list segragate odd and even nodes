class Solution {
public:
    // Function to segragate odd and even indices nodes
    ListNode* oddEvenList(ListNode* head) {
        // Check if list is empty or has only one node
        if (head == NULL || head->next == NULL)
            return head;

        // To store values
        vector<int> array;   
        ListNode* temp = head;

        /*Traverse the list, skipping one node, 
        and store values in the vector*/
        while (temp != NULL && temp->next != NULL) {
            array.push_back(temp->data);
            temp = temp->next->next;
        }

        /* If the traversal ends on a valid 
        odd-indexed node, include its value as well*/
        if (temp != NULL)
            array.push_back(temp->data);

        // Reset temp 
        temp = head->next;

        /*Traverse the list again, skipping one node 
       and store values 
        in the vector*/
        while (temp != NULL && temp->next != NULL) {
            array.push_back(temp->data);
            temp = temp->next->next;
        }

        /* If the traversal ends on a valid 
        even-indexed node, include its value as well */
        if (temp != NULL)
            array.push_back(temp->data);

        // Reset temp 
        temp = head;
        int i = 0;

        // Update node values 
        while (temp != NULL) {
            temp->data = array[i];
            temp = temp->next;
            i++;
        }

        return head;
    }
};
